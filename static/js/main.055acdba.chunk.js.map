{"version":3,"sources":["components/navbar.jsx","components/square.jsx","components/pieces.js","components/board.jsx","components/modal.jsx","components/initialiseChessBoard.js","components/startPage.jsx","components/loading.jsx","components/game.jsx","index.js"],"names":["Navbar","react_default","a","createElement","className","href","style","color","type","Square","highlight","high","check","c","_this2","this","props","shade","onClick","handleClick","id","Component","Piece","player","iconUrl","Object","classCallCheck","backgroundImage","King","_Piece","possibleConstructorReturn","getPrototypeOf","call","inherits","createClass","key","value","src","dest","Queen","_Piece2","mod","diff","Math","abs","pathStart","pathEnd","incrementBy","path","i","push","Bishop","_Piece3","Knight","_Piece4","Rook","_Piece5","Pawn","_Piece6","_this","initialPos","isDestEnemyOccupied","indexOf","Board","renderSquare","squareShade","components_square","source","chessBoard","underCheck","buildBoard","board","sqaureRows","j","black","Modal","showHideClassName","show","handleCross","winner","handleClose","initialiseChessBoard","squares","Array","fill","StartPage","state","userName","onSubmit","e","preventDefault","onclick","Fragment","placeholder","onChange","setState","target","LoadingScreen","socket","io","Game","kings","turn","joinedRoom","showLoading","enterGame","length","toast","error","emit","toLowerCase","console","log","showModal","rematch","_chessBoard$player$so","handleEmitClick","data","square","sourSquare","destSquare","isMovePossible","canTrans","isDestOcc","getPath","every","s","toConsumableArray","undercheck","opp","checkKing","emitSource","under","oppKing","ans","renderTurn","on","loser","_chessBoard$player$so2","filter","navbar","loading","modal","components_board","lib","startPage","ReactDOM","render","game","document","getElementById"],"mappings":"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","file":"static/js/main.055acdba.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Navbar = () => {\n  return (\n    <nav className=\"navbar navbar-inverse navbar-fixed-top navbarMain\">\n      <div className=\"container-fluid\">\n        <div className=\"navbar-header\">\n          <a href=\".\">\n            <h2 style={{ color: \"white\" }}>React Chess</h2>\n          </a>\n        </div>\n        <a href=\"https://github.com/jashan498/react-chess\" className=\"mr-auto\">\n          {\" \"}\n          <button\n            className=\"btn btn-sm btn-outline-secondary pull-left mr-auto navButton\"\n            type=\"button\"\n          >\n            Code\n          </button>\n        </a>\n        <a href=\"https://github.com/jashan498\">\n          <p className=\"navText nav ml-auto\">jashan498</p>\n        </a>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React, { Component } from \"react\";\n\nclass Square extends Component {\n  highlight = high => {\n    if (high) return \"highlight \";\n    return \"\";\n  };\n  check = c => {\n    if (c) return \"check \";\n    return \"\";\n  };\n  render() {\n    return (\n      <button\n        className={\n          this.check(this.props.check) +\n          this.highlight(this.props.high) +\n          \"square \" +\n          this.props.shade\n        }\n        style={this.props.style}\n        onClick={() => this.props.handleClick(this.props.id)}\n      />\n    );\n  }\n}\n\nexport default Square;\n","class Piece {\n  constructor(player, iconUrl) {\n    this.player = player;\n    this.style = { backgroundImage: \"url('\" + iconUrl + \"')\" };\n  }\n}\n\n////////////////////////////////// King //////////////////////////////////\nexport class King extends Piece {\n  constructor(player) {\n    super(\n      player,\n      player === 1\n        ? \"https://upload.wikimedia.org/wikipedia/commons/4/42/Chess_klt45.svg\"\n        : \"https://upload.wikimedia.org/wikipedia/commons/f/f0/Chess_kdt45.svg\"\n    );\n  }\n\n  isMovePossible(src, dest) {\n    return (\n      src - 9 === dest ||\n      src - 8 === dest ||\n      src - 7 === dest ||\n      src + 1 === dest ||\n      src + 9 === dest ||\n      src + 8 === dest ||\n      src + 7 === dest ||\n      src - 1 === dest\n    );\n  }\n\n  getPath(src, dest) {\n    return [];\n  }\n}\n\n////////////////////////////////// Queen //////////////////////////////////\nexport class Queen extends Piece {\n  constructor(player) {\n    super(\n      player,\n      player === 1\n        ? \"https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_qlt45.svg\"\n        : \"https://upload.wikimedia.org/wikipedia/commons/4/47/Chess_qdt45.svg\"\n    );\n  }\n\n  isMovePossible(src, dest) {\n    let mod = src % 8;\n    let diff = 8 - mod;\n\n    return (\n      Math.abs(src - dest) % 9 === 0 ||\n      Math.abs(src - dest) % 7 === 0 ||\n      (Math.abs(src - dest) % 8 === 0 ||\n        (dest >= src - mod && dest < src + diff))\n    );\n  }\n\n  getPath(src, dest) {\n    let path = [],\n      pathStart,\n      pathEnd,\n      incrementBy;\n    if (src > dest) {\n      pathStart = dest;\n      pathEnd = src;\n    } else {\n      pathStart = src;\n      pathEnd = dest;\n    }\n    if (Math.abs(src - dest) % 8 === 0) {\n      incrementBy = 8;\n      pathStart += 8;\n    } else if (Math.abs(src - dest) % 9 === 0) {\n      incrementBy = 9;\n      pathStart += 9;\n    } else if (Math.abs(src - dest) % 7 === 0) {\n      incrementBy = 7;\n      pathStart += 7;\n    } else {\n      incrementBy = 1;\n      pathStart += 1;\n    }\n\n    for (let i = pathStart; i < pathEnd; i += incrementBy) {\n      path.push(i);\n    }\n    return path;\n  }\n}\n\n////////////////////////////////// Bishop //////////////////////////////////\nexport class Bishop extends Piece {\n  constructor(player) {\n    super(\n      player,\n      player === 1\n        ? \"https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg\"\n        : \"https://upload.wikimedia.org/wikipedia/commons/9/98/Chess_bdt45.svg\"\n    );\n  }\n\n  isMovePossible(src, dest) {\n    return Math.abs(src - dest) % 9 === 0 || Math.abs(src - dest) % 7 === 0;\n  }\n\n  getPath(src, dest) {\n    let path = [],\n      pathStart,\n      pathEnd,\n      incrementBy;\n    if (src > dest) {\n      pathStart = dest;\n      pathEnd = src;\n    } else {\n      pathStart = src;\n      pathEnd = dest;\n    }\n    if (Math.abs(src - dest) % 9 === 0) {\n      incrementBy = 9;\n      pathStart += 9;\n    } else {\n      incrementBy = 7;\n      pathStart += 7;\n    }\n\n    for (let i = pathStart; i < pathEnd; i += incrementBy) {\n      path.push(i);\n    }\n    return path;\n  }\n}\n\n////////////////////////////////// Knight //////////////////////////////////\nexport class Knight extends Piece {\n  constructor(player) {\n    super(\n      player,\n      player === 1\n        ? \"https://upload.wikimedia.org/wikipedia/commons/7/70/Chess_nlt45.svg\"\n        : \"https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_ndt45.svg\"\n    );\n  }\n\n  isMovePossible(src, dest) {\n    return (\n      src - 17 === dest ||\n      src - 10 === dest ||\n      src + 6 === dest ||\n      src + 15 === dest ||\n      src - 15 === dest ||\n      src - 6 === dest ||\n      src + 10 === dest ||\n      src + 17 === dest\n    );\n  }\n\n  getPath() {\n    return [];\n  }\n}\n\n////////////////////////////////// Rook //////////////////////////////////\nexport class Rook extends Piece {\n  constructor(player) {\n    super(\n      player,\n      player === 1\n        ? \"https://upload.wikimedia.org/wikipedia/commons/7/72/Chess_rlt45.svg\"\n        : \"https://upload.wikimedia.org/wikipedia/commons/f/ff/Chess_rdt45.svg\"\n    );\n  }\n\n  isMovePossible(src, dest) {\n    let mod = src % 8;\n    let diff = 8 - mod;\n    return (\n      Math.abs(src - dest) % 8 === 0 || (dest >= src - mod && dest < src + diff)\n    );\n  }\n\n  getPath(src, dest) {\n    let path = [],\n      pathStart,\n      pathEnd,\n      incrementBy;\n    if (src > dest) {\n      pathStart = dest;\n      pathEnd = src;\n    } else {\n      pathStart = src;\n      pathEnd = dest;\n    }\n    if (Math.abs(src - dest) % 8 === 0) {\n      incrementBy = 8;\n      pathStart += 8;\n    } else {\n      incrementBy = 1;\n      pathStart += 1;\n    }\n\n    for (let i = pathStart; i < pathEnd; i += incrementBy) {\n      path.push(i);\n    }\n    return path;\n  }\n}\n\n////////////////////////////////// Pawn //////////////////////////////////\nexport class Pawn extends Piece {\n  constructor(player) {\n    super(\n      player,\n      player === 1\n        ? \"https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg\"\n        : \"https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg\"\n    );\n  }\n\n  initialPos = [\n    [48, 49, 50, 51, 52, 53, 54, 55],\n    [8, 9, 10, 11, 12, 13, 14, 15]\n  ];\n\n  isMovePossible(src, dest, isDestEnemyOccupied) {\n    if (this.player === 1) {\n      if (\n        (dest === src - 8 && !isDestEnemyOccupied) ||\n        (dest === src - 16 && this.initialPos[0].indexOf(src) !== -1)\n      ) {\n        return true;\n      } else if (\n        isDestEnemyOccupied &&\n        (dest === src - 9 || dest === src - 7)\n      ) {\n        return true;\n      }\n    } else if (this.player === 2) {\n      if (\n        (dest === src + 8 && !isDestEnemyOccupied) ||\n        (dest === src + 16 && this.initialPos[1].indexOf(src) !== -1)\n      ) {\n        return true;\n      } else if (\n        isDestEnemyOccupied &&\n        (dest === src + 9 || dest === src + 7)\n      ) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  getPath(src, dest) {\n    if (dest === src - 16) {\n      return [src - 8];\n    } else if (dest === src + 16) {\n      return [src + 8];\n    }\n    return [];\n  }\n}\n","import React, { Component } from \"react\";\nimport Square from \"./square.jsx\";\nimport { King } from \"./pieces.js\";\n\nclass Board extends Component {\n  renderSquare = (i, squareShade) => {\n    return (\n      <Square\n        key={i}\n        id={i}\n        shade={squareShade}\n        high={i === this.props.source ? 1 : 0}\n        check={\n          this.props.chessBoard[i] instanceof King &&\n          this.props.chessBoard[i].player === this.props.underCheck\n            ? 1\n            : 0\n        }\n        style={this.props.chessBoard[i] ? this.props.chessBoard[i].style : null}\n        handleClick={this.props.handleClick}\n      />\n    );\n  };\n\n  buildBoard = () => {\n    const board = [];\n    for (let i = 0; i < 8; i++) {\n      const sqaureRows = [];\n      for (let j = 0; j < 8; j++) {\n        const squareShade =\n          ((i ^ j) & 1) === 0 ? \"square-white\" : \"square-black\";\n        // both i and j has to be even fro square to be white, hence XOR.\n        sqaureRows.push(this.renderSquare(i * 8 + j, squareShade));\n      }\n      board.push(\n        <div key={i} className=\"board-row\">\n          {sqaureRows}\n        </div>\n      );\n    }\n    if (this.props.player === 2) {\n      let black = [];\n      for (let i = 7; i >= 0; i--) {\n        black.push(board[i]);\n      }\n      return black;\n    } else {\n      return board;\n    }\n  };\n  render() {\n    return <div className=\"board\">{this.buildBoard()}</div>;\n  }\n}\n\nexport default Board;\n","import React, { Component } from \"react\";\n\nclass Modal extends Component {\n  render() {\n    const showHideClassName = this.props.show\n      ? \"modal display-block\"\n      : \"modal display-none\";\n\n    return (\n      <div className={showHideClassName}>\n        <section className=\"modal-main\">\n          <span className=\"close\" onClick={this.props.handleCross}>\n            &times;\n          </span>\n          <h1 className=\"mtext\">{this.props.winner} wins!</h1>\n          <button\n            className=\"btn btn-primary mbutton\"\n            onClick={this.props.handleClose}\n          >\n            Rematch\n          </button>\n        </section>\n      </div>\n    );\n  }\n}\nexport default Modal;\n","import { King, Queen, Bishop, Knight, Rook, Pawn } from \"./pieces.js\";\n\nexport default function initialiseChessBoard() {\n  const squares = Array(64).fill(null);\n\n  for (let i = 8; i < 16; i++) {\n    squares[i] = new Pawn(2);\n    squares[i + 40] = new Pawn(1);\n  }\n\n  squares[4] = new King(2);\n  squares[60] = new King(1);\n\n  squares[3] = new Queen(2);\n  squares[59] = new Queen(1);\n\n  squares[0] = new Rook(2);\n  squares[7] = new Rook(2);\n  squares[56] = new Rook(1);\n  squares[63] = new Rook(1);\n\n  squares[1] = new Knight(2);\n  squares[6] = new Knight(2);\n  squares[57] = new Knight(1);\n  squares[62] = new Knight(1);\n\n  squares[2] = new Bishop(2);\n  squares[5] = new Bishop(2);\n  squares[58] = new Bishop(1);\n  squares[61] = new Bishop(1);\n\n  return squares;\n}\n","import React, { Component } from \"react\";\n\nclass StartPage extends Component {\n  state = {\n    userName: \"\"\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n    this.props.onclick(this.state.userName);\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <form className=\"form\" onSubmit={this.onSubmit}>\n          <h2 className=\"starth2\">Join/Create Game</h2>\n          <p>\n            <input\n              placeholder=\"Share this with your friend to play...\"\n              className=\"startInput\"\n              onChange={e => this.setState({ userName: e.target.value })}\n            />\n          </p>\n          <button\n            type=\"submit\"\n            className=\"startButton\"\n            // onClick={() => this.props.onclick(this.state.userName)}\n          >\n            Enter Game\n          </button>\n        </form>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default StartPage;\n","import React, { Component } from \"react\";\n\nclass LoadingScreen extends Component {\n  render() {\n    if (!this.props.show) return null;\n    return (\n      <React.Fragment>\n        <div className=\"wrap-loader\">\n          <div className=\"loader\">\n            <div className=\"box\" />\n            <div className=\"box\" />\n            <div className=\"box\" />\n            <div className=\"box\" />\n            <div className=\"wrap-text\">\n              <div className=\"text\">\n                <span>L</span>\n                <span>O</span>\n                <span>A</span>\n                <span>D</span>\n                <span>I</span>\n                <span>N</span>\n                <span>G</span>\n                <span>...</span>\n              </div>\n            </div>\n          </div>\n          <div className=\"loader-text\">Waiting for other Player</div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default LoadingScreen;\n","import React, { Component } from \"react\";\nimport Navbar from \"./navbar.jsx\";\nimport Board from \"./board.jsx\";\nimport Modal from \"./modal.jsx\";\nimport initialiseChessBoard from \"./initialiseChessBoard.js\";\nimport { Pawn, King, Queen } from \"./pieces.js\";\nimport StartPage from \"./startPage\";\nimport LoadingScreen from \"./loading\";\nimport { ToastContainer, toast } from \"react-toastify\";\n\nimport io from \"socket.io-client\";\nlet socket = io(`https://salty-refuge-59199.herokuapp.com`);\n\nclass Game extends Component {\n  state = {\n    chessBoard: initialiseChessBoard(),\n    player: null,\n    source: -1,\n    kings: [60, 4], // Initial King positions\n    underCheck: -1,\n    turn: 1,\n    winner: null,\n    show: false,\n    joinedRoom: false,\n    showLoading: false\n  };\n\n  ///////////// SOCKET WORK //////////////\n\n  componentWillMount() {\n    socket.on(\"roomJoined\", data => {\n      this.setState({ player: data });\n    });\n\n    socket.on(\"startLoading\", () => {\n      this.setState({ showLoading: true });\n    });\n\n    socket.on(\"stopLoading\", () => {\n      this.setState({ showLoading: false });\n    });\n\n    socket.on(\"stateChanged\", data => {\n      this.handleEmitClick(data);\n    });\n\n    socket.on(\"loser\", loser => {\n      if (!this.state.winner)\n        this.setState({ winner: loser === 1 ? \"Black\" : \"White\", show: true });\n    });\n\n    socket.on(\"roomFull\", data => {\n      this.setState({ joinedRoom: false });\n      toast(data);\n    });\n\n    socket.on(\"rematch\", () => {\n      const {\n        chessBoard,\n        player,\n        source,\n        kings,\n        underCheck,\n        turn,\n        winner,\n        show\n      } = {\n        chessBoard: initialiseChessBoard(),\n        player: this.state.player,\n        source: -1,\n        kings: [60, 4], // Initial King positions\n        underCheck: -1,\n        turn: 1,\n        winner: null,\n        show: false\n      };\n      this.setState({\n        chessBoard,\n        player,\n        source,\n        kings,\n        underCheck,\n        turn,\n        winner,\n        show\n      });\n    });\n\n    socket.on(\"oppDisconnected\", () => {\n      // console.log(\"do you know\");\n      toast(\"Other player already left the game\");\n      this.setState({ joinedRoom: false });\n    });\n  }\n\n  ///////////////////////////////////////////////\n\n  enterGame = userName => {\n    if (userName.length === 0) {\n      toast.error(\"Name should have atleast one character\");\n    } else {\n      socket.emit(\"joinRoom\", userName.toLowerCase());\n      this.setState({ joinedRoom: true });\n      console.log(userName);\n    }\n  };\n\n  showModal = () => {\n    this.setState({ show: true });\n  };\n\n  handleCross = () => {\n    this.setState({ show: false });\n  };\n\n  rematch = () => {\n    const {\n      chessBoard,\n      player,\n      source,\n      kings,\n      underCheck,\n      turn,\n      winner,\n      show\n    } = {\n      chessBoard: initialiseChessBoard(),\n      player: this.state.player,\n      source: -1,\n      kings: [60, 4], // Initial King positions\n      underCheck: -1,\n      turn: 1,\n      winner: null,\n      show: false\n    };\n    this.setState({\n      chessBoard,\n      player,\n      source,\n      kings,\n      underCheck,\n      turn,\n      winner,\n      show\n    });\n    socket.emit(\"rematch\");\n  };\n\n  handleEmitClick = data => {\n    const { source, dest, underCheck, turn, kings } = data;\n    console.log(turn);\n    let chessBoard = this.state.chessBoard;\n    chessBoard[dest] = chessBoard[source];\n    chessBoard[source] = null;\n    this.setState({ chessBoard, underCheck, turn, kings });\n  };\n\n  handleClick = i => {\n    if (this.state.player !== this.state.turn) return;\n\n    // If its the first click\n    if (this.state.winner) return;\n    if (this.state.source === -1) {\n      const square = this.state.chessBoard[i];\n      // see if there is a piece on that square\n      if (square) {\n        // Player can move only his piece\n        if (this.state.player !== square.player) return;\n\n        this.setState({ source: i });\n      }\n    } else {\n      // Its the second click, that is destination\n      let chessBoard = this.state.chessBoard;\n      let source = this.state.source;\n      const sourSquare = chessBoard[source];\n      const destSquare = chessBoard[i];\n      // console.log(\"yoolloo\", source, chessBoard[source]);\n      let isMovePossible = sourSquare.isMovePossible(source, i);\n      let canTrans = false;\n      if (sourSquare instanceof Pawn) {\n        const isDestOcc = destSquare;\n        isMovePossible = sourSquare.isMovePossible(source, i, isDestOcc);\n\n        // Also see if Pawn has reached opponent's side\n        if (sourSquare.player === 1 && i >= 0 && i <= 7) canTrans = true;\n        else if (sourSquare.player === 2 && i >= 56 && i <= 63) canTrans = true;\n      }\n      if (isMovePossible) {\n        const pathArray = sourSquare.getPath(source, i);\n        // console.log(sourSquare instanceof Pawn, pathArray);\n        if (\n          pathArray.every(s => chessBoard[s] === null) &&\n          (!destSquare || destSquare.player !== sourSquare.player)\n        ) {\n          let kings = [...this.state.kings];\n          if (sourSquare instanceof King) {\n            kings[sourSquare.player === 1 ? 0 : 1] = i;\n          }\n          let undercheck = this.state.underCheck;\n          const opp = sourSquare.player === 1 ? 2 : 1;\n          chessBoard[i] = chessBoard[source];\n          chessBoard[source] = null;\n\n          // Transform the Pawn into Queen if it reaches opponent's side\n          if (canTrans) chessBoard[i] = new Queen(sourSquare.player);\n\n          // See if new config checks the opponent's king\n          if (this.checkKing(chessBoard, this.state.player, kings[opp - 1]))\n            undercheck = opp;\n          else undercheck = -1;\n\n          // If the player was under check and this move removes that check.\n          if (undercheck === this.state.player) {\n            if (!this.checkKing(chessBoard, opp, kings[this.state.player - 1]))\n              undercheck = -1;\n          }\n\n          // see if player piece is under check due to its own piece\n          if (this.checkKing(chessBoard, opp, kings[this.state.player - 1]))\n            undercheck = this.state.player;\n\n          const emitSource = source;\n          const under = undercheck;\n          source = -1;\n          this.setState(\n            {\n              chessBoard: chessBoard,\n              source: source,\n              kings: kings,\n              turn: opp,\n              underCheck: undercheck\n            },\n            () => {\n              socket.emit(\"stateChanged\", {\n                source: emitSource,\n                dest: i,\n                underCheck: under,\n                turn: opp,\n                kings: kings\n              });\n            }\n          );\n        } else {\n          this.setState({ source: -1 }, () => {\n            socket.emit(\"stateChanged\", i);\n          });\n        }\n      } else {\n        this.setState({ source: -1 }, () => {\n          socket.emit(\"stateChanged\", i);\n        });\n      }\n    }\n  };\n\n  checkKing = (chessBoard, sourSquare, oppKing) => {\n    let ans = false;\n    for (let i = 0; i < 64; i++) {\n      if (\n        chessBoard[i] !== null &&\n        chessBoard[i].player === sourSquare &&\n        (chessBoard[i].isMovePossible(i, oppKing) ||\n          chessBoard[i] instanceof Pawn)\n      ) {\n        if (chessBoard[i] instanceof Pawn) {\n          if (\n            oppKing === i + 9 ||\n            oppKing === i + 7 ||\n            oppKing === i - 9 ||\n            oppKing === i - 7\n          ) {\n            ans = chessBoard[i].isMovePossible(i, oppKing, chessBoard[oppKing]);\n          }\n        } else {\n          const path = chessBoard[i].getPath(i, oppKing);\n          if (path.every(s => chessBoard[s] === null)) {\n            // console.log(\"@@@@@@ \", chessBoard[i]);\n            ans = true;\n            break;\n          }\n        }\n      }\n    }\n    return ans;\n  };\n\n  componentDidUpdate() {\n    const kings = this.state.chessBoard.filter(c => c instanceof King);\n    if (!this.state.winner && kings.length === 1) {\n      this.setState({\n        show: true,\n        winner: 1 === kings[0].player ? \"White\" : \"Black\"\n      });\n    }\n  }\n\n  renderTurn = () => {\n    if (this.state.turn === 1) {\n      return (\n        <React.Fragment>\n          <span className=\"white-dot turn\" />\n          &nbsp;\n          <span className=\"black-dot\" />\n        </React.Fragment>\n      );\n    }\n\n    return (\n      <React.Fragment>\n        <span className=\"white-dot\" />\n        &nbsp;\n        <span className=\"black-dot turn\" />\n      </React.Fragment>\n    );\n  };\n\n  render() {\n    if (!this.state.joinedRoom) {\n      return (\n        <React.Fragment>\n          <Navbar />\n          <ToastContainer />\n          <StartPage onclick={this.enterGame} />\n        </React.Fragment>\n      );\n    }\n\n    if (this.state.showLoading) {\n      return (\n        <React.Fragment>\n          <Navbar />\n          <LoadingScreen show={this.state.showLoading} />\n        </React.Fragment>\n      );\n    }\n\n    return (\n      <div>\n        <Navbar />\n        <Modal\n          show={this.state.show}\n          handleClose={this.rematch}\n          handleCross={this.handleCross}\n          winner={this.state.winner}\n        />\n\n        <nav className=\"navbar navbarUnder\">\n          <span className=\"scoreTurn\">\n            <h3>Turn: </h3>\n          </span>\n          <span className=\"turnBoard\">{this.renderTurn()}</span>\n          <span>\n            <span className=\"badge badge-pill badge-outline lb-lg\">0</span>\n            <span> - </span>\n            <span className=\"badge badge-pill badge-outline-dark  lb-lg\">\n              0\n            </span>\n          </span>\n        </nav>\n        <Board\n          chessBoard={this.state.chessBoard}\n          source={this.state.source}\n          underCheck={this.state.underCheck}\n          handleClick={this.handleClick}\n          player={this.state.player}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Game;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./index.css\";\nimport Game from \"./components/game.jsx\";\n\nReactDOM.render(<Game />, document.getElementById(\"root\"));\n"],"sourceRoot":""}