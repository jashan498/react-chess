(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(7),i=a.n(r),c=(a(15),a(17),a(8)),o=a(1),l=a(2),h=a(4),u=a(3),p=a(5),d=function(){return s.a.createElement("nav",{className:"navbar navbar-inverse navbar-fixed-top"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"navbar-header"},s.a.createElement("a",{href:"."},s.a.createElement("h2",{style:{color:"white"}},"React Chess"))),s.a.createElement("a",{href:"https://github.com/jashan498/react-chess",className:"mr-auto"}," ",s.a.createElement("button",{className:"btn btn-sm btn-outline-secondary pull-left mr-auto navButton",type:"button"},"Code")),s.a.createElement("a",{href:"https://github.com/jashan498"},s.a.createElement("p",{className:"navText nav ml-auto"},"jashan498"))))},f=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).highlight=function(e){return e?"highlight ":""},a.check=function(e){return e?"check ":""},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("button",{className:this.check(this.props.check)+this.highlight(this.props.high)+"square "+this.props.shade,style:this.props.style,onClick:function(){return e.props.handleClick(e.props.id)}})}}]),t}(n.Component),b=function e(t,a){Object(o.a)(this,e),this.player=t,this.style={backgroundImage:"url('"+a+"')"}},m=function(e){function t(e){return Object(o.a)(this,t),Object(h.a)(this,Object(u.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/4/42/Chess_klt45.svg":"https://upload.wikimedia.org/wikipedia/commons/f/f0/Chess_kdt45.svg"))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"isMovePossible",value:function(e,t){return e-9===t||e-8===t||e-7===t||e+1===t||e+9===t||e+8===t||e+7===t||e-1===t}},{key:"getPath",value:function(e,t){return[]}}]),t}(b),v=function(e){function t(e){return Object(o.a)(this,t),Object(h.a)(this,Object(u.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_qlt45.svg":"https://upload.wikimedia.org/wikipedia/commons/4/47/Chess_qdt45.svg"))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"isMovePossible",value:function(e,t){var a=e%8,n=8-a;return Math.abs(e-t)%9===0||Math.abs(e-t)%7===0||Math.abs(e-t)%8===0||t>=e-a&&t<e+n}},{key:"getPath",value:function(e,t){var a,n,s,r=[];e>t?(a=t,n=e):(a=e,n=t),Math.abs(e-t)%8===0?(s=8,a+=8):Math.abs(e-t)%9===0?(s=9,a+=9):Math.abs(e-t)%7===0?(s=7,a+=7):(s=1,a+=1);for(var i=a;i<n;i+=s)r.push(i);return r}}]),t}(b),k=function(e){function t(e){return Object(o.a)(this,t),Object(h.a)(this,Object(u.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg":"https://upload.wikimedia.org/wikipedia/commons/9/98/Chess_bdt45.svg"))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"isMovePossible",value:function(e,t){return Math.abs(e-t)%9===0||Math.abs(e-t)%7===0}},{key:"getPath",value:function(e,t){var a,n,s,r=[];e>t?(a=t,n=e):(a=e,n=t),Math.abs(e-t)%9===0?(s=9,a+=9):(s=7,a+=7);for(var i=a;i<n;i+=s)r.push(i);return r}}]),t}(b),w=function(e){function t(e){return Object(o.a)(this,t),Object(h.a)(this,Object(u.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/7/70/Chess_nlt45.svg":"https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_ndt45.svg"))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"isMovePossible",value:function(e,t){return e-17===t||e-10===t||e+6===t||e+15===t||e-15===t||e-6===t||e+10===t||e+17===t}},{key:"getPath",value:function(){return[]}}]),t}(b),y=function(e){function t(e){return Object(o.a)(this,t),Object(h.a)(this,Object(u.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/7/72/Chess_rlt45.svg":"https://upload.wikimedia.org/wikipedia/commons/f/ff/Chess_rdt45.svg"))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"isMovePossible",value:function(e,t){var a=e%8,n=8-a;return Math.abs(e-t)%8===0||t>=e-a&&t<e+n}},{key:"getPath",value:function(e,t){var a,n,s,r=[];e>t?(a=t,n=e):(a=e,n=t),Math.abs(e-t)%8===0?(s=8,a+=8):(s=1,a+=1);for(var i=a;i<n;i+=s)r.push(i);return r}}]),t}(b),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(u.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg":"https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg"))).initialPos=[[48,49,50,51,52,53,54,55],[8,9,10,11,12,13,14,15]],a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"isMovePossible",value:function(e,t,a){if(1===this.player){if(t===e-8&&!a||t===e-16&&-1!==this.initialPos[0].indexOf(e))return!0;if(a&&(t===e-9||t===e-7))return!0}else if(2===this.player){if(t===e+8&&!a||t===e+16&&-1!==this.initialPos[1].indexOf(e))return!0;if(a&&(t===e+9||t===e+7))return!0}return!1}},{key:"getPath",value:function(e,t){return t===e-16?[e-8]:t===e+16?[e+8]:[]}}]),t}(b),j=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).renderSquare=function(e,t){return s.a.createElement(f,{key:e,id:e,shade:t,high:e===a.props.source?1:0,check:a.props.chessBoard[e]instanceof m&&a.props.chessBoard[e].player===a.props.underCheck?1:0,style:a.props.chessBoard[e]?a.props.chessBoard[e].style:null,handleClick:a.props.handleClick})},a.buildBoard=function(){for(var e=[],t=0;t<8;t++){for(var n=[],r=0;r<8;r++){var i=0===(1&(t^r))?"square-white":"square-black";n.push(a.renderSquare(8*t+r,i))}e.push(s.a.createElement("div",{key:t,className:"board-row"},n))}return e},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"board"},this.buildBoard())}}]),t}(n.Component),O=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.show?"modal display-block":"modal display-none";return s.a.createElement("div",{className:e},s.a.createElement("section",{className:"modal-main"},s.a.createElement("span",{className:"close",onClick:this.props.handleCross},"\xd7"),s.a.createElement("h1",{className:"mtext"},this.props.winner," wins!"),s.a.createElement("button",{className:"btn btn-primary mbutton",onClick:this.props.handleClose},"Rematch")))}}]),t}(n.Component);function C(){for(var e=Array(64).fill(null),t=8;t<16;t++)e[t]=new g(2),e[t+40]=new g(1);return e[4]=new m(2),e[60]=new m(1),e[3]=new v(2),e[59]=new v(1),e[0]=new y(2),e[7]=new y(2),e[56]=new y(1),e[63]=new y(1),e[1]=new w(2),e[6]=new w(2),e[57]=new w(1),e[62]=new w(1),e[2]=new k(2),e[5]=new k(2),e[58]=new k(1),e[61]=new k(1),e}var E=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={chessBoard:C(),player:1,source:-1,kings:[60,4],underCheck:-1,winner:null,show:!1},a.showModal=function(){a.setState({show:!0})},a.handleCross=function(){a.setState({show:!1})},a.hideModal=function(){var e={chessBoard:C(),player:1,source:-1,kings:[60,4],underCheck:-1,winner:null,show:!1},t=e.chessBoard,n=e.player,s=e.source,r=e.kings,i=e.underCheck,c=e.winner,o=e.show;a.setState({chessBoard:t,player:n,source:s,kings:r,underCheck:i,winner:c,show:o})},a.handleClick=function(e){if(!a.state.winner)if(-1===a.state.source){var t=a.state.chessBoard[e];if(t){if(a.state.player!==t.player)return;a.setState({source:e})}}else{var n=a.state.chessBoard,s=a.state.source,r=n[s],i=n[e],o=r.isMovePossible(s,e),l=!1;if(r instanceof g){var h=i;o=r.isMovePossible(s,e,h),1===r.player&&e>=0&&e<=7?l=!0:2===r.player&&e>=56&&e<=63&&(l=!0)}if(o)if(!r.getPath(s,e).every(function(e){return null===n[e]})||i&&i.player===r.player)a.setState({source:-1});else{var u=Object(c.a)(a.state.kings);r instanceof m&&(u[1===r.player?0:1]=e);var p=a.state.underCheck,d=1===r.player?2:1;n[e]=n[s],n[s]=null,l&&(n[e]=new v(r.player)),(p=a.checkKing(n,a.state.player,u[d-1])?d:-1)===a.state.player&&(a.checkKing(n,d,u[a.state.player-1])||(p=-1)),a.checkKing(n,d,u[a.state.player-1])&&(p=a.state.player),s=-1;var f=1===a.state.player?2:1;a.setState({chessBoard:n,player:f,source:s,kings:u,underCheck:p})}else a.setState({source:-1})}},a.checkKing=function(e,t,a){for(var n=!1,s=0;s<64;s++)if(null!==e[s]&&e[s].player===t&&e[s].isMovePossible(s,a)){if(e[s]instanceof g&&(a===s+8||a===s-8))continue;if(e[s].getPath(s,a).every(function(t){return null===e[t]})){n=!0;break}}return n},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.state.chessBoard.filter(function(e){return e instanceof m});this.state.winner||1!==e.length||this.setState({show:!0,winner:1===e[0].player?"White":"Black"})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(d,null),s.a.createElement(O,{show:this.state.show,handleClose:this.hideModal,handleCross:this.handleCross,winner:this.state.winner}),s.a.createElement(j,{chessBoard:this.state.chessBoard,source:this.state.source,underCheck:this.state.underCheck,handleClick:this.handleClick}))}}]),t}(n.Component);i.a.render(s.a.createElement(E,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(19)}},[[9,2,1]]]);
//# sourceMappingURL=main.8fb8d7b2.chunk.js.map