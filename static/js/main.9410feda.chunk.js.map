{"version":3,"sources":["components/navbar.jsx","components/square.jsx","components/pieces.js","components/board.jsx","components/modal.jsx","components/initialiseChessBoard.js","components/startPage.jsx","components/game.jsx","index.js"],"names":["Navbar","react_default","a","createElement","className","href","style","color","type","Square","highlight","high","check","c","_this2","this","props","shade","onClick","handleClick","id","Component","Piece","player","iconUrl","Object","classCallCheck","backgroundImage","King","_Piece","possibleConstructorReturn","getPrototypeOf","call","inherits","createClass","key","value","src","dest","Queen","_Piece2","mod","diff","Math","abs","pathStart","pathEnd","incrementBy","path","i","push","Bishop","_Piece3","Knight","_Piece4","Rook","_Piece5","Pawn","_Piece6","_this","initialPos","isDestEnemyOccupied","indexOf","Board","renderSquare","squareShade","components_square","source","chessBoard","underCheck","buildBoard","board","sqaureRows","j","black","Modal","showHideClassName","show","handleCross","winner","handleClose","initialiseChessBoard","squares","Array","fill","StartPage","state","userName","onSubmit","e","preventDefault","onclick","Fragment","placeholder","onChange","setState","target","socket","io","Game","kings","turn","joinedRoom","enterGame","emit","console","log","showModal","rematch","_chessBoard$player$so","handleEmitClick","data","square","sourSquare","destSquare","isMovePossible","canTrans","isDestOcc","getPath","every","s","toConsumableArray","undercheck","opp","checkKing","emitSource","under","oppKing","ans","on","loser","toast","_chessBoard$player$so2","filter","length","navbar","modal","components_board","lib","startPage","ReactDOM","render","game","document","getElementById"],"mappings":"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","file":"static/js/main.9410feda.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Navbar = () => {\n  return (\n    <nav className=\"navbar navbar-inverse navbar-fixed-top\">\n      <div className=\"container-fluid\">\n        <div className=\"navbar-header\">\n          <a href=\".\">\n            <h2 style={{ color: \"white\" }}>React Chess</h2>\n          </a>\n        </div>\n        <a href=\"https://github.com/jashan498/react-chess\" className=\"mr-auto\">\n          {\" \"}\n          <button\n            className=\"btn btn-sm btn-outline-secondary pull-left mr-auto navButton\"\n            type=\"button\"\n          >\n            Code\n          </button>\n        </a>\n        <a href=\"https://github.com/jashan498\">\n          <p className=\"navText nav ml-auto\">jashan498</p>\n        </a>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React, { Component } from \"react\";\n\nclass Square extends Component {\n  highlight = high => {\n    if (high) return \"highlight \";\n    return \"\";\n  };\n  check = c => {\n    if (c) return \"check \";\n    return \"\";\n  };\n  render() {\n    return (\n      <button\n        className={\n          this.check(this.props.check) +\n          this.highlight(this.props.high) +\n          \"square \" +\n          this.props.shade\n        }\n        style={this.props.style}\n        onClick={() => this.props.handleClick(this.props.id)}\n      />\n    );\n  }\n}\n\nexport default Square;\n","class Piece {\n  constructor(player, iconUrl) {\n    this.player = player;\n    this.style = { backgroundImage: \"url('\" + iconUrl + \"')\" };\n  }\n}\n\n////////////////////////////////// King //////////////////////////////////\nexport class King extends Piece {\n  constructor(player) {\n    super(\n      player,\n      player === 1\n        ? \"https://upload.wikimedia.org/wikipedia/commons/4/42/Chess_klt45.svg\"\n        : \"https://upload.wikimedia.org/wikipedia/commons/f/f0/Chess_kdt45.svg\"\n    );\n  }\n\n  isMovePossible(src, dest) {\n    return (\n      src - 9 === dest ||\n      src - 8 === dest ||\n      src - 7 === dest ||\n      src + 1 === dest ||\n      src + 9 === dest ||\n      src + 8 === dest ||\n      src + 7 === dest ||\n      src - 1 === dest\n    );\n  }\n\n  getPath(src, dest) {\n    return [];\n  }\n}\n\n////////////////////////////////// Queen //////////////////////////////////\nexport class Queen extends Piece {\n  constructor(player) {\n    super(\n      player,\n      player === 1\n        ? \"https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_qlt45.svg\"\n        : \"https://upload.wikimedia.org/wikipedia/commons/4/47/Chess_qdt45.svg\"\n    );\n  }\n\n  isMovePossible(src, dest) {\n    let mod = src % 8;\n    let diff = 8 - mod;\n\n    return (\n      Math.abs(src - dest) % 9 === 0 ||\n      Math.abs(src - dest) % 7 === 0 ||\n      (Math.abs(src - dest) % 8 === 0 ||\n        (dest >= src - mod && dest < src + diff))\n    );\n  }\n\n  getPath(src, dest) {\n    let path = [],\n      pathStart,\n      pathEnd,\n      incrementBy;\n    if (src > dest) {\n      pathStart = dest;\n      pathEnd = src;\n    } else {\n      pathStart = src;\n      pathEnd = dest;\n    }\n    if (Math.abs(src - dest) % 8 === 0) {\n      incrementBy = 8;\n      pathStart += 8;\n    } else if (Math.abs(src - dest) % 9 === 0) {\n      incrementBy = 9;\n      pathStart += 9;\n    } else if (Math.abs(src - dest) % 7 === 0) {\n      incrementBy = 7;\n      pathStart += 7;\n    } else {\n      incrementBy = 1;\n      pathStart += 1;\n    }\n\n    for (let i = pathStart; i < pathEnd; i += incrementBy) {\n      path.push(i);\n    }\n    return path;\n  }\n}\n\n////////////////////////////////// Bishop //////////////////////////////////\nexport class Bishop extends Piece {\n  constructor(player) {\n    super(\n      player,\n      player === 1\n        ? \"https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg\"\n        : \"https://upload.wikimedia.org/wikipedia/commons/9/98/Chess_bdt45.svg\"\n    );\n  }\n\n  isMovePossible(src, dest) {\n    return Math.abs(src - dest) % 9 === 0 || Math.abs(src - dest) % 7 === 0;\n  }\n\n  getPath(src, dest) {\n    let path = [],\n      pathStart,\n      pathEnd,\n      incrementBy;\n    if (src > dest) {\n      pathStart = dest;\n      pathEnd = src;\n    } else {\n      pathStart = src;\n      pathEnd = dest;\n    }\n    if (Math.abs(src - dest) % 9 === 0) {\n      incrementBy = 9;\n      pathStart += 9;\n    } else {\n      incrementBy = 7;\n      pathStart += 7;\n    }\n\n    for (let i = pathStart; i < pathEnd; i += incrementBy) {\n      path.push(i);\n    }\n    return path;\n  }\n}\n\n////////////////////////////////// Knight //////////////////////////////////\nexport class Knight extends Piece {\n  constructor(player) {\n    super(\n      player,\n      player === 1\n        ? \"https://upload.wikimedia.org/wikipedia/commons/7/70/Chess_nlt45.svg\"\n        : \"https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_ndt45.svg\"\n    );\n  }\n\n  isMovePossible(src, dest) {\n    return (\n      src - 17 === dest ||\n      src - 10 === dest ||\n      src + 6 === dest ||\n      src + 15 === dest ||\n      src - 15 === dest ||\n      src - 6 === dest ||\n      src + 10 === dest ||\n      src + 17 === dest\n    );\n  }\n\n  getPath() {\n    return [];\n  }\n}\n\n////////////////////////////////// Rook //////////////////////////////////\nexport class Rook extends Piece {\n  constructor(player) {\n    super(\n      player,\n      player === 1\n        ? \"https://upload.wikimedia.org/wikipedia/commons/7/72/Chess_rlt45.svg\"\n        : \"https://upload.wikimedia.org/wikipedia/commons/f/ff/Chess_rdt45.svg\"\n    );\n  }\n\n  isMovePossible(src, dest) {\n    let mod = src % 8;\n    let diff = 8 - mod;\n    return (\n      Math.abs(src - dest) % 8 === 0 || (dest >= src - mod && dest < src + diff)\n    );\n  }\n\n  getPath(src, dest) {\n    let path = [],\n      pathStart,\n      pathEnd,\n      incrementBy;\n    if (src > dest) {\n      pathStart = dest;\n      pathEnd = src;\n    } else {\n      pathStart = src;\n      pathEnd = dest;\n    }\n    if (Math.abs(src - dest) % 8 === 0) {\n      incrementBy = 8;\n      pathStart += 8;\n    } else {\n      incrementBy = 1;\n      pathStart += 1;\n    }\n\n    for (let i = pathStart; i < pathEnd; i += incrementBy) {\n      path.push(i);\n    }\n    return path;\n  }\n}\n\n////////////////////////////////// Pawn //////////////////////////////////\nexport class Pawn extends Piece {\n  constructor(player) {\n    super(\n      player,\n      player === 1\n        ? \"https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg\"\n        : \"https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg\"\n    );\n  }\n\n  initialPos = [\n    [48, 49, 50, 51, 52, 53, 54, 55],\n    [8, 9, 10, 11, 12, 13, 14, 15]\n  ];\n\n  isMovePossible(src, dest, isDestEnemyOccupied) {\n    if (this.player === 1) {\n      if (\n        (dest === src - 8 && !isDestEnemyOccupied) ||\n        (dest === src - 16 && this.initialPos[0].indexOf(src) !== -1)\n      ) {\n        return true;\n      } else if (\n        isDestEnemyOccupied &&\n        (dest === src - 9 || dest === src - 7)\n      ) {\n        return true;\n      }\n    } else if (this.player === 2) {\n      if (\n        (dest === src + 8 && !isDestEnemyOccupied) ||\n        (dest === src + 16 && this.initialPos[1].indexOf(src) !== -1)\n      ) {\n        return true;\n      } else if (\n        isDestEnemyOccupied &&\n        (dest === src + 9 || dest === src + 7)\n      ) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  getPath(src, dest) {\n    if (dest === src - 16) {\n      return [src - 8];\n    } else if (dest === src + 16) {\n      return [src + 8];\n    }\n    return [];\n  }\n}\n","import React, { Component } from \"react\";\nimport Square from \"./square.jsx\";\nimport { King } from \"./pieces.js\";\n\nclass Board extends Component {\n  renderSquare = (i, squareShade) => {\n    return (\n      <Square\n        key={i}\n        id={i}\n        shade={squareShade}\n        high={i === this.props.source ? 1 : 0}\n        check={\n          this.props.chessBoard[i] instanceof King &&\n          this.props.chessBoard[i].player === this.props.underCheck\n            ? 1\n            : 0\n        }\n        style={this.props.chessBoard[i] ? this.props.chessBoard[i].style : null}\n        handleClick={this.props.handleClick}\n      />\n    );\n  };\n\n  buildBoard = () => {\n    const board = [];\n    for (let i = 0; i < 8; i++) {\n      const sqaureRows = [];\n      for (let j = 0; j < 8; j++) {\n        const squareShade =\n          ((i ^ j) & 1) === 0 ? \"square-white\" : \"square-black\";\n        // both i and j has to be even fro square to be white, hence XOR.\n        sqaureRows.push(this.renderSquare(i * 8 + j, squareShade));\n      }\n      board.push(\n        <div key={i} className=\"board-row\">\n          {sqaureRows}\n        </div>\n      );\n    }\n    if (this.props.player === 2) {\n      let black = [];\n      for (let i = 7; i >= 0; i--) {\n        black.push(board[i]);\n      }\n      return black;\n    } else {\n      return board;\n    }\n  };\n  render() {\n    return <div className=\"board\">{this.buildBoard()}</div>;\n  }\n}\n\nexport default Board;\n","import React, { Component } from \"react\";\n\nclass Modal extends Component {\n  render() {\n    const showHideClassName = this.props.show\n      ? \"modal display-block\"\n      : \"modal display-none\";\n\n    return (\n      <div className={showHideClassName}>\n        <section className=\"modal-main\">\n          <span className=\"close\" onClick={this.props.handleCross}>\n            &times;\n          </span>\n          <h1 className=\"mtext\">{this.props.winner} wins!</h1>\n          <button\n            className=\"btn btn-primary mbutton\"\n            onClick={this.props.handleClose}\n          >\n            Rematch\n          </button>\n        </section>\n      </div>\n    );\n  }\n}\nexport default Modal;\n","import { King, Queen, Bishop, Knight, Rook, Pawn } from \"./pieces.js\";\n\nexport default function initialiseChessBoard() {\n  const squares = Array(64).fill(null);\n\n  for (let i = 8; i < 16; i++) {\n    squares[i] = new Pawn(2);\n    squares[i + 40] = new Pawn(1);\n  }\n\n  squares[4] = new King(2);\n  squares[60] = new King(1);\n\n  squares[3] = new Queen(2);\n  squares[59] = new Queen(1);\n\n  squares[0] = new Rook(2);\n  squares[7] = new Rook(2);\n  squares[56] = new Rook(1);\n  squares[63] = new Rook(1);\n\n  squares[1] = new Knight(2);\n  squares[6] = new Knight(2);\n  squares[57] = new Knight(1);\n  squares[62] = new Knight(1);\n\n  squares[2] = new Bishop(2);\n  squares[5] = new Bishop(2);\n  squares[58] = new Bishop(1);\n  squares[61] = new Bishop(1);\n\n  return squares;\n}\n","import React, { Component } from \"react\";\n\nclass StartPage extends Component {\n  state = {\n    userName: \"\"\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n    this.props.onclick(this.state.userName);\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <form className=\"form\" onSubmit={this.onSubmit}>\n          <h2 className=\"starth2\">Join/Create Game</h2>\n          <p>\n            <input\n              placeholder=\"Share this with your friend to play...\"\n              className=\"startInput\"\n              onChange={e => this.setState({ userName: e.target.value })}\n            />\n          </p>\n          <button\n            type=\"submit\"\n            className=\"startButton\"\n            // onClick={() => this.props.onclick(this.state.userName)}\n          >\n            Enter Game\n          </button>\n        </form>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default StartPage;\n","import React, { Component } from \"react\";\nimport Navbar from \"./navbar.jsx\";\nimport Board from \"./board.jsx\";\nimport Modal from \"./modal.jsx\";\nimport initialiseChessBoard from \"./initialiseChessBoard.js\";\nimport { Pawn, King, Queen } from \"./pieces.js\";\nimport StartPage from \"./startPage\";\nimport { ToastContainer, toast } from \"react-toastify\";\n\nimport io from \"socket.io-client\";\nlet socket = io(`https://salty-refuge-59199.herokuapp.com`);\n\nclass Game extends Component {\n  state = {\n    chessBoard: initialiseChessBoard(),\n    player: null,\n    source: -1,\n    kings: [60, 4], // Initial King positions\n    underCheck: -1,\n    turn: 1,\n    winner: null,\n    show: false,\n    joinedRoom: false\n  };\n\n  ///// SOCKET WORK /////\n\n  componentWillMount() {\n    socket.on(\"roomJoined\", data => {\n      // this.state.player = data;\n      this.setState({ player: data });\n    });\n\n    socket.on(\"stateChanged\", data => {\n      // data = JSON.parse(data);\n      // const { chessBoard, source, kings, underCheck, winner, show } = {\n      //   ...data\n      // };\n      // console.log(\"asdasds\", chessBoard);\n      // this.setState({ chessBoard, source, kings, underCheck, winner, show });\n      // console.log(\"heyyyyy\", data);\n      this.handleEmitClick(data);\n    });\n\n    socket.on(\"loser\", loser => {\n      // if (this.state.player ===\n      // console.log(\"callled loser\");\n      if (!this.state.winner)\n        this.setState({ winner: loser === 1 ? \"Black\" : \"White\", show: true });\n    });\n\n    socket.on(\"roomFull\", data => {\n      this.setState({ joinedRoom: false });\n      toast(data);\n    });\n\n    socket.on(\"rematch\", () => {\n      const {\n        chessBoard,\n        player,\n        source,\n        kings,\n        underCheck,\n        turn,\n        winner,\n        show\n      } = {\n        chessBoard: initialiseChessBoard(),\n        player: this.state.player,\n        source: -1,\n        kings: [60, 4], // Initial King positions\n        underCheck: -1,\n        turn: 1,\n        winner: null,\n        show: false\n      };\n      this.setState({\n        chessBoard,\n        player,\n        source,\n        kings,\n        underCheck,\n        turn,\n        winner,\n        show\n      });\n    });\n\n    socket.on(\"oppDisconnected\", () => {\n      // console.log(\"do you know\");\n      toast(\"Other player already left the game.\");\n      this.setState({ joinedRoom: false });\n    });\n  }\n\n  ////////\n\n  enterGame = userName => {\n    socket.emit(\"joinRoom\", userName);\n    this.setState({ joinedRoom: true });\n    console.log(userName);\n  };\n\n  showModal = () => {\n    this.setState({ show: true });\n  };\n\n  handleCross = () => {\n    this.setState({ show: false });\n  };\n\n  rematch = () => {\n    const {\n      chessBoard,\n      player,\n      source,\n      kings,\n      underCheck,\n      turn,\n      winner,\n      show\n    } = {\n      chessBoard: initialiseChessBoard(),\n      player: this.state.player,\n      source: -1,\n      kings: [60, 4], // Initial King positions\n      underCheck: -1,\n      turn: 1,\n      winner: null,\n      show: false\n    };\n    this.setState({\n      chessBoard,\n      player,\n      source,\n      kings,\n      underCheck,\n      turn,\n      winner,\n      show\n    });\n    socket.emit(\"rematch\");\n  };\n\n  handleEmitClick = data => {\n    const { source, dest, underCheck, turn, kings } = data;\n    console.log(turn);\n    let chessBoard = this.state.chessBoard;\n    chessBoard[dest] = chessBoard[source];\n    chessBoard[source] = null;\n    this.setState({ chessBoard, underCheck, turn, kings });\n  };\n\n  handleClick = i => {\n    if (this.state.player !== this.state.turn) return;\n\n    // If its the first click\n    if (this.state.winner) return;\n    if (this.state.source === -1) {\n      const square = this.state.chessBoard[i];\n      // see if there is a piece on that square\n      if (square) {\n        // Player can move only his piece\n        if (this.state.player !== square.player) return;\n\n        this.setState({ source: i });\n      }\n    } else {\n      // Its the second click, that is destination\n      let chessBoard = this.state.chessBoard;\n      let source = this.state.source;\n      const sourSquare = chessBoard[source];\n      const destSquare = chessBoard[i];\n      // console.log(\"yoolloo\", source, chessBoard[source]);\n      let isMovePossible = sourSquare.isMovePossible(source, i);\n      let canTrans = false;\n      if (sourSquare instanceof Pawn) {\n        const isDestOcc = destSquare;\n        isMovePossible = sourSquare.isMovePossible(source, i, isDestOcc);\n\n        // Also see if Pawn has reached opponent's side\n        if (sourSquare.player === 1 && i >= 0 && i <= 7) canTrans = true;\n        else if (sourSquare.player === 2 && i >= 56 && i <= 63) canTrans = true;\n      }\n      if (isMovePossible) {\n        const pathArray = sourSquare.getPath(source, i);\n        // console.log(sourSquare instanceof Pawn, pathArray);\n        if (\n          pathArray.every(s => chessBoard[s] === null) &&\n          (!destSquare || destSquare.player !== sourSquare.player)\n        ) {\n          let kings = [...this.state.kings];\n          if (sourSquare instanceof King) {\n            kings[sourSquare.player === 1 ? 0 : 1] = i;\n          }\n          let undercheck = this.state.underCheck;\n          const opp = sourSquare.player === 1 ? 2 : 1;\n          chessBoard[i] = chessBoard[source];\n          chessBoard[source] = null;\n\n          // Transform the Pawn into Queen if it reaches opponent's side\n          if (canTrans) chessBoard[i] = new Queen(sourSquare.player);\n\n          // See if new config checks the opponent's king\n          if (this.checkKing(chessBoard, this.state.player, kings[opp - 1]))\n            undercheck = opp;\n          else undercheck = -1;\n\n          // If the player was under check and this move removes that check.\n          if (undercheck === this.state.player) {\n            if (!this.checkKing(chessBoard, opp, kings[this.state.player - 1]))\n              undercheck = -1;\n          }\n\n          // see if player piece is under check due to its own piece\n          if (this.checkKing(chessBoard, opp, kings[this.state.player - 1]))\n            undercheck = this.state.player;\n\n          const emitSource = source;\n          const under = undercheck;\n          source = -1;\n          this.setState(\n            {\n              chessBoard: chessBoard,\n              source: source,\n              kings: kings,\n              turn: opp,\n              underCheck: undercheck\n            },\n            () => {\n              socket.emit(\"stateChanged\", {\n                source: emitSource,\n                dest: i,\n                underCheck: under,\n                turn: opp,\n                kings: kings\n              });\n            }\n          );\n        } else {\n          this.setState({ source: -1 }, () => {\n            socket.emit(\"stateChanged\", i);\n          });\n        }\n      } else {\n        this.setState({ source: -1 }, () => {\n          socket.emit(\"stateChanged\", i);\n        });\n      }\n    }\n  };\n\n  checkKing = (chessBoard, sourSquare, oppKing) => {\n    let ans = false;\n    for (let i = 0; i < 64; i++) {\n      if (\n        chessBoard[i] !== null &&\n        chessBoard[i].player === sourSquare &&\n        (chessBoard[i].isMovePossible(i, oppKing) ||\n          chessBoard[i] instanceof Pawn)\n      ) {\n        if (chessBoard[i] instanceof Pawn) {\n          if (\n            oppKing === i + 9 ||\n            oppKing === i + 7 ||\n            oppKing === i - 9 ||\n            oppKing === i - 7\n          ) {\n            ans = chessBoard[i].isMovePossible(i, oppKing, chessBoard[oppKing]);\n          }\n        } else {\n          const path = chessBoard[i].getPath(i, oppKing);\n          if (path.every(s => chessBoard[s] === null)) {\n            // console.log(\"@@@@@@ \", chessBoard[i]);\n            ans = true;\n            break;\n          }\n        }\n      }\n    }\n    return ans;\n  };\n\n  componentDidUpdate() {\n    const kings = this.state.chessBoard.filter(c => c instanceof King);\n    if (!this.state.winner && kings.length === 1) {\n      this.setState({\n        show: true,\n        winner: 1 === kings[0].player ? \"White\" : \"Black\"\n      });\n    }\n  }\n  render() {\n    if (!this.state.joinedRoom) {\n      return (\n        <React.Fragment>\n          <Navbar />\n          <ToastContainer />\n          <StartPage onclick={this.enterGame} />\n        </React.Fragment>\n      );\n    }\n    return (\n      <div>\n        <Navbar />\n        <Modal\n          show={this.state.show}\n          handleClose={this.rematch}\n          handleCross={this.handleCross}\n          winner={this.state.winner}\n        />\n        <Board\n          chessBoard={this.state.chessBoard}\n          source={this.state.source}\n          underCheck={this.state.underCheck}\n          handleClick={this.handleClick}\n          player={this.state.player}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Game;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./index.css\";\n\nimport Game from \"./components/game.jsx\";\n\nReactDOM.render(<Game />, document.getElementById(\"root\"));\n"],"sourceRoot":""}